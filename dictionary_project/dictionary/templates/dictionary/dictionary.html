{% extends 'dictionary/main.html' %}
{% load static %}
{% block content %}
<!-- home-right-cont -->
<div class="container mt-2">
    <form action="" method="POST" class="input-word-form mb-2">
        {% csrf_token %}
        {{ form }}
        <button type="submit" class="btn btn-warning word-form update">ADD</button>
    </form>
    <table class="table table-sm table-hover">
        <thead class="thead-dark">
          <tr>
            <th scope="col"></th>
            <th scope="col">{{ dictionary.lang_from }}</th>
            <th scope="col">{{ dictionary.lang_to }}</th>
            <th scope="col">DEFINITION</th>
          </tr>
        </thead>
        <tbody>
        {% for word in page_obj %}
          <tr>
            <th scope="row">{{ forloop.counter }}</th>
            <td>{{ word.original_word }}</td>
            <td>{{ word.translated_word }}</td>
            <td>{% if word.definition == "" %}-{% else %}{{ word.definition }}{% endif %}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
      <div class="pagination mt-3 mb-2">
        <span class="step-links">
            {% if page_obj.has_previous %}
                <a href="?page=1" class="btn btn-outline-dark"><<</a>
                <a href="?page={{ page_obj.previous_page_number }}" class="btn btn-outline-dark"><</a>
            {% endif %}

            {% for num in page_obj.paginator.page_range %}
              {% if page_obj.number == num %}
                <a href="?page={{ num }}" class="btn btn-dark">{{ num }}</a>
              {% elif num > page_obj.number|add:'-3' and num > page_obj.number|add:'3' %}
                <a href="?page={{ num }}" class="btn btn-outline-dark">{{ num }}</a>
              {% endif %}
            {% endfor %}    
            {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}" class="btn btn-outline-dark">></a>
                <a href="?page={{ page_obj.paginator.num_pages }}" class="btn btn-outline-dark">>></a>
            {% endif %}
        </span>
      </div>
</div>
{% endblock content %}